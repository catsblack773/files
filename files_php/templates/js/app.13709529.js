(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0315":function(t,e,i){"use strict";i("71b6")},"034f":function(t,e,i){"use strict";i("85ec")},"1be1":function(t,e,i){},2501:function(t,e,i){},"328d":function(t,e,i){},3950:function(t,e,i){"use strict";i("328d")},"460d":function(t,e,i){"use strict";i("1be1")},5187:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.$store.getters.isLoad,expression:"$store.getters.isLoad",modifiers:{fullscreen:!0,lock:!0}}],style:"background-image: url("+t.background+")",attrs:{id:"app"}},[i("main-layout",{attrs:{apps:t.activeApps}},[i("div",{staticClass:"window-desktop"},t._l(t.apps,(function(e){return i("div",{key:e.id,staticClass:"window-desktop-content",attrs:{"data-apps-type":e.type}},[i("modal-content",{ref:"modals",refInFor:!0,attrs:{path:e.path,data:e},on:{closeApp:t.closeApp}})],1)})),0)])],1)},a=[],o=(i("159b"),i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-layout"},[t._t("default"),i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-nav"},[i("transition",{attrs:{name:"fade"}},[t.isNavBar?i("nav-bar",{on:{openApp:t.openApp}}):t._e()],1),i("el-button",{attrs:{type:"primary",icon:"el-icon-menu",circle:""},on:{click:t.openNav}})],1),i("div",{staticClass:"window-line"},t._l(t.apps,(function(e){return i("div",{key:e.id,staticClass:"window-element",attrs:{title:e.name,"data-type":e.type},on:{click:function(i){return t.windowElementClick(e.type)}}},[t._v(t._s(e.name))])})),0),i("div",{staticClass:"tree-bar"},[i("div",{staticClass:"clock"},[t._v(t._s(t.date))])])])],2)}),r=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav-bar"},[i("li",{staticClass:"item",on:{click:function(e){return t.close("files")}}},[t._v("Файловый менеджер")]),i("li",{staticClass:"item",on:{click:function(e){return t.close("other")}}},[t._v("Ещё какой то модуль")]),i("li",{staticClass:"item",on:{click:function(e){return t.close("other")}}},[t._v("Ещё какой то модуль")]),i("li",{staticClass:"item",on:{click:function(e){return t.close("other")}}},[t._v("Ещё какой то модуль")])])},l=[],u={methods:{close:function(t){this.$parent.$emit("closeNavBar"),this.$emit("openApp",t)}}},d=u,p=(i("fff1"),i("2877")),h=Object(p["a"])(d,c,l,!1,null,"bf0c5a7a",null),m=h.exports,f={props:{apps:{type:Array,require:!0}},data:function(){return{date:"",isNavBar:!1}},components:{NavBar:m},computed:{newApps:function(){return this.apps.filter((function(t){return t.isActive}))}},methods:{clockViews:function(){var t=new Date,e=t.getHours()<10?"0".concat(t.getHours()):t.getHours(),i=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes(),n=t.getSeconds()<10?"0".concat(t.getSeconds()):t.getSeconds();this.date=e+":"+i+":"+n},openNav:function(){this.isNavBar=!this.isNavBar},windowElementClick:function(t){var e=document.querySelector(".window-line"),i=e.querySelectorAll(".window-element");i.forEach((function(e){e.dataset.type===t?e.classList.add("active"):e.classList.remove("active")})),this.$parent.$emit("windowClick",t)},openApp:function(t){this.$parent.$emit("openApp",t),setTimeout((function(){var e=document.querySelectorAll(".window-element");e.forEach((function(e){e.dataset.type===t?e.classList.add("active"):e.classList.remove("active")}))}),100)}},created:function(){setInterval(this.clockViews,1e3)},mounted:function(){var t=this;this.$on("closeNavBar",(function(){return t.isNavBar=!1})),this.$on("activeModal",(function(e){return t.$parent.$emit("activeModal",e)}))}},v=f,g=(i("460d"),Object(p["a"])(v,o,r,!1,null,"c151ddce",null)),y=g.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal"},[i("transition",{attrs:{name:"window-classes-transition","enter-active-class":"animated animate__bounceInUp","leave-active-class":"animated animate__backOutDown"}},[t.isShow?i("div",{staticClass:"modal-content"},[i("modal",{staticClass:"modal-content",style:"z-index: "+(t.activeWindow?99999:9999),attrs:{name:t.data.type,draggable:"header .header-title",adaptive:!0,resizable:!0,minWidth:450,minHeight:400},on:{resize:t.resize}},[i("header",{on:{click:t.isActiveModal}},[i("div",{staticClass:"header-wrapp"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.data.name))]),i("div",{staticClass:"header-action-wrapp"},[i("div",{staticClass:"header-minimize icon el-icon-minus",on:{click:t.minimize}}),i("div",{staticClass:"header-full-modal icon el-icon-zoom-in",on:{click:t.zoomIn}}),i("div",{staticClass:"header-close icon el-icon-close",on:{click:t.close}})])])]),i("main",{style:"height: "+t.heightModal+"px",on:{click:t.isActiveModal}},[i("div",{staticClass:"content",attrs:{"data-heigth":t.heightModal-50}},["files"===t.data.type?i("files",{ref:"component"}):"main"===t.data.type?i("other",{ref:"component"}):t._e()],1)]),i("footer",{on:{click:t.isActiveModal}},[i("div",{staticClass:"information-panel"},[t._v("Панель информации")])])])],1):t._e()])],1)},w=[],$=(i("77ed"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoad?i("div",{staticClass:"files-content"},[i("el-row",{staticClass:"path-content",attrs:{type:"flex",gutter:20,align:"middle"}},[i("el-col",{attrs:{span:2}},[i("i",{staticClass:"el-icon-back",on:{click:t.comeBack}})]),i("el-col",{attrs:{span:2}},[i("i",{staticClass:"el-icon-refresh",on:{click:function(e){return t.openFolder("open-folder")}}})]),i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{size:"small"},on:{change:function(e){return t.openFolder("open-folder")}},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-folder-opened"})])],2)],1)],1),i("div",{staticClass:"row list-content",style:"height: "+t.heigth+"px"},[t._l(t.folders,(function(e){return i("div",{key:e.hash,staticClass:"col",class:"col-"+t.col},[i("folder",{ref:"folders",refInFor:!0,attrs:{item:e},on:{openFolder:t.openFolder,reLoad:t.reLoad,closeContextMenu:t.onCloseContextMenu,activeFolders:t.onActiveFolders,copy:t.copy,cut:t.cut,remove:t.onRemove}})],1)})),t._l(t.files,(function(e){return i("div",{key:e.hash,staticClass:"col",class:"col-"+t.col},[i("file",{ref:"files",refInFor:!0,attrs:{item:e},on:{reLoad:t.reLoad,closeContextMenu:t.onCloseContextMenu,activeFiles:t.onActiveFiles,copy:t.copy,cut:t.cut,remove:t.onRemove}})],1)}))],2),t.isMenu?i("contextmenu-component",{attrs:{"is-view":t.isMenu,coords:t.coords,contextmenu:t.contextmenu},on:{closeContextMenu:t.onCloseContextMenu,create:t.openCreateFolder,paste:t.paste,upload:t.onUpload}}):t._e(),i("modal-create",{attrs:{title:"Создание папки",width:300,height:185,minHeight:150,path:t.path},on:{reLoad:t.reLoad}}),i("modal-upload",{attrs:{title:"Загрузка файла на сервер",width:330,height:250,minHeight:150,path:t.path},on:{reLoad:t.reLoad}})],1):t._e()}),b=[],x=i("b85c"),_=i("1da1"),A=(i("99af"),i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item",class:{active:t.isActive},on:{click:function(e){return e.preventDefault(),t.onClick(e)},dblclick:t.onOpen}},[i("div",{staticClass:"item-info-wrapp",on:{contextmenu:function(e){return e.preventDefault(),t.onContextMenu(e)}}},[i("i",{staticClass:"el-icon-folder"}),i("span",[t._v(t._s(t.item.name))])]),t.isMenu?i("contextmenuComponent",{attrs:{"is-view":t.isMenu,coords:t.coords,contextmenu:t.contextmenu},on:{copy:t.copy,cut:t.cut,remove:t.remove}}):t._e()],1)}),M=[],k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contextmenu-wrapp"},[i("el-menu",{staticClass:"contextmenu-content",style:"top: "+t.coords.y+"px;left: "+t.coords.x+"px",attrs:{mode:"horizontal"}},[t._l(t.contextmenu,(function(e){return i("contextmenu-item",{key:e.id,staticClass:"el-menu-item",attrs:{item:e},on:{onAction:function(i){return t.onAction(e.type)}}})})),t._t("default")],2)],1)},L=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:{"is-disabled":!t.isActive},on:{click:t.onClick}},[t._v(t._s(t.item.name))])},F=[],S={props:{item:{type:Object,required:!0}},computed:{isActive:function(){return this.item.isActive}},methods:{onClick:function(){this.$emit("onAction",this.item.type)}}},j=S,E=Object(p["a"])(j,O,F,!1,null,null,null),q=E.exports,z={props:{isView:{type:Boolean,required:!0},coords:{type:Object,required:!0},contextmenu:{type:Array,required:!0}},data:function(){return{isActive:!0}},components:{contextmenuItem:q},methods:{onAction:function(t){this.$emit(t),this.$emit("closeContextMenu")}}},N=z,I=(i("a052"),Object(p["a"])(N,k,L,!1,null,null,null)),T=I.exports,P={props:{item:{type:Object,required:!0}},data:function(){return{isMenu:!1,coords:{},contextmenu:{},isActive:!1}},components:{contextmenuComponent:T},methods:{onClick:function(t){t.target.closest(".el-menu-item")||(this.isActive=!this.isActive,this.$emit("activeFolders",{isActive:this.isActive,path:this.item.path}),this.$emit("closeContextMenu"))},onOpen:function(){this.$emit("openFolder","open-folder",this.item.path)},onContextMenu:function(t){this.isMenu?this.$emit("closeContextMenu"):(this.$emit("closeContextMenu"),this.coords={x:t.clientX,y:t.clientY},this.isMenu=!0)},loadContextMenu:function(){this.contextmenu=[{id:1,name:"Удалить",type:"remove",isActive:!0},{id:2,name:"Копировать",type:"copy",isActive:!0},{id:3,name:"Вырезать",type:"cut",isActive:!0}]},copy:function(){this.$emit("copy",{path:this.item.path,isActive:this.isActive})},cut:function(){this.$emit("cut",{path:this.item.path,isActive:this.isActive})},remove:function(){this.$emit("remove",{path:this.item.path,isActive:this.isActive})}},created:function(){this.loadContextMenu()}},H=P,R=(i("3950"),Object(p["a"])(H,A,M,!1,null,"841c2258",null)),W=R.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item",class:{active:t.isActive},attrs:{title:t.item.name},on:{click:function(e){return e.preventDefault(),t.onClick(e)},contextmenu:function(e){return e.preventDefault(),t.onContextMenu(e)}}},["image"===t.item.type?i("div",{staticClass:"item-info-wrapp"},[i("el-image",{staticStyle:{height:"120px"},attrs:{src:"https://files.neworia.ru"+t.item.path,fit:"cover","preview-src-list":["https://files.neworia.ru"+t.item.path],"z-index":999999}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" Идет загрузка"),i("span",{staticClass:"dot"},[t._v("...")])]),i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])]),i("span",[t._v(t._s(t.item.name))])],1):i("div",{staticClass:"item-info-wrapp"},[i("i",{staticClass:"el-icon-document"}),i("span",[t._v(t._s(t.item.name))])]),t.isMenu?i("contextmenu-component",{attrs:{"is-view":t.isMenu,coords:t.coords,contextmenu:t.contextmenu},on:{closeContextMenu:t.onClick,copy:t.copy,cut:t.cut,remove:t.remove}}):t._e()],1)},B=[],U={props:{item:{type:Object,required:!0}},data:function(){return{isMenu:!1,coords:{},contextmenu:{},isActive:!1}},components:{contextmenuComponent:T},methods:{onClick:function(t){t&&t.target.closest(".el-menu-item")||(this.isActive=!this.isActive,this.$emit("activeFiles",{isActive:this.isActive,path:this.item.path}),this.$emit("closeContextMenu"))},onContextMenu:function(t){this.isMenu?this.$emit("closeContextMenu"):(this.$emit("closeContextMenu"),this.coords={x:t.clientX,y:t.clientY},this.isMenu=!0)},loadContextMenu:function(){this.contextmenu=[{id:1,name:"Удалить",type:"remove",isActive:!0},{id:2,name:"Копировать",type:"copy",isActive:!0},{id:3,name:"Вырезать",type:"cut",isActive:!0}]},copy:function(){this.$emit("copy",{path:this.item.path,isActive:this.isActive})},cut:function(){this.$emit("cut",{path:this.item.path,isActive:this.isActive})},remove:function(){this.$emit("remove",{path:this.item.path,isActive:this.isActive})}},created:function(){this.loadContextMenu()}},Z=U,V=(i("7542"),Object(p["a"])(Z,D,B,!1,null,"66195e72",null)),X=V.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{name:"create",minWidth:t.minWidth,minHeight:t.minHeight,width:t.width,height:t.height,adaptive:!0}},[i("header",[i("div",{staticClass:"header-wrapp"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"header-action-wrapp"},[i("div",{staticClass:"header-close icon el-icon-close",on:{click:function(e){return t.$modal.hide("create")}}})])])]),i("main",{staticClass:"main-wrapp"},[i("el-form",{ref:"form-create"},[i("div",{staticClass:"el-form-item"},[i("label",{staticClass:"el-form-item__label"},[t._v("Введите название папки")]),i("div",{staticClass:"el-form-item__content"},[i("div",{staticClass:"el-input el-input--medium"},[i("autofocus-input",{on:{onUpdate:t.onUpdate}})],1)])]),i("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[i("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.queryCreateFolder()}}},[t._v("Создать папку")])],1)],1)],1)])},J=[],G=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"inputFocus",staticClass:"el-input__inner autofocus",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})}),K=[],Q={data:function(){return{value:""}},mounted:function(){this.$refs.inputFocus.focus()},watch:{value:function(t){this.$emit("onUpdate",t)}}},tt=Q,et=Object(p["a"])(tt,G,K,!1,null,null,null),it=et.exports,nt={props:{title:{type:String,required:!0},width:{type:Number,required:!1,default:300},height:{type:Number,required:!1,default:200},minWidth:{type:Number,required:!1,default:300},minHeight:{type:Number,required:!1,default:200},path:{type:String,required:!0}},data:function(){return{createNameFolder:null}},components:{autofocusInput:it},methods:{queryCreateFolder:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new FormData,i.append("folder",t.createNameFolder),i.append("path",t.path),e.next=5,t.$http("".concat(t.$store.getters.domans,"/files/create-folder/"),{method:"POST",headers:{"is-json":!0},data:i}).then((function(e){!0===e.data.res?(t.$modal.hide("create"),t.$emit("reLoad",{folders:e.data.folders,files:e.data.files,path:e.data.path}),t.$message({message:e.data.message,type:"success"})):!1===e.data.res&&t.$message.error(e.data.message)})).catch((function(e){t.$message.error(e)}));case 5:case"end":return e.stop()}}),e)})))()},onUpdate:function(t){this.createNameFolder=t}}},st=nt,at=(i("e8c0"),Object(p["a"])(st,Y,J,!1,null,"5598e49b",null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{name:"uploadFiles",minWidth:t.minWidth,minHeight:t.minHeight,width:t.width,height:t.height,adaptive:!0}},[i("header",[i("div",{staticClass:"header-wrapp"},[i("div",{staticClass:"header-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"header-action-wrapp"},[i("div",{staticClass:"header-close icon el-icon-close",on:{click:function(e){return t.$modal.hide("uploadFiles")}}})])])]),i("main",{staticClass:"main-wrapp"},[i("el-form",{ref:"form-create"},[i("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:this.$store.getters.domans+"/files/update-files/",headers:{"is-json":!0},data:{path:t.path},"auto-upload":!0,"on-success":t.onSuccess,multiple:""}},[i("div",{staticClass:"btn-wrapp"},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("Дабавить файлы")])],1)])],1)],1)])},ct=[],lt={props:{title:{type:String,required:!0},width:{type:Number,required:!1,default:300},height:{type:Number,required:!1,default:200},minWidth:{type:Number,required:!1,default:300},minHeight:{type:Number,required:!1,default:200},path:{type:String,required:!0}},data:function(){return{fileList:[],limit:10}},methods:{submitUpload:function(){this.$refs.upload.submit()},onSuccess:function(t){!0===t.res?(this.$message({message:t.message,type:"success"}),this.$emit("reLoad",{folders:t.folders,files:t.files,path:t.path})):!1===t.res&&this.$message.error(t.message)}}},ut=lt,dt=(i("0315"),Object(p["a"])(ut,rt,ct,!1,null,"1083e0ac",null)),pt=dt.exports,ht={data:function(){return{isLoad:!1,folders:[],activeFolders:[],files:[],activeFiles:[],path:"/files/",isMenu:!1,coords:{},contextmenu:{},heigth:0,col:6}},computed:{contentHeigth:function(){return this.heigth},isPaste:function(){return!!this.$store.getters.clipboard.type}},components:{folder:W,file:X,contextmenuComponent:T,modalCreate:ot,modalUpload:pt},methods:{onLoad:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("onLoad"),t.openFolder("open-folder"),t.isLoad=!0,t.$store.dispatch("onLoadClose");case 4:case"end":return e.stop()}}),e)})))()},openFolder:function(t){var e=arguments,i=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:null,a=new FormData,s?a.append("path",s):a.append("path",i.path),n.next=5,i.$http("".concat(i.$store.getters.domans,"/files/").concat(t,"/"),{method:"POST",headers:{"is-json":!0},data:a}).then((function(t){1==t.data.res?(i.folders=t.data.folders,i.files=t.data.files,i.path=t.data.path):0==t.data.res&&i.$message.error(t.data.message)})).catch((function(t){i.$message.error(t)}));case 5:case"end":return n.stop()}}),n)})))()},comeBack:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("onLoad"),t.openFolder("come-back"),t.$store.dispatch("onLoadClose");case 3:case"end":return e.stop()}}),e)})))()},openCreateFolder:function(){this.$modal.show("create")},onRemove:function(t){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function i(){var n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.$store.dispatch("onLoad"),n=new FormData,t.isActive?(s=[],e.$refs.folders&&e.$refs.folders.forEach((function(t){!0===t.isActive&&s.push(t.item.path)})),e.$refs.files&&e.$refs.files.forEach((function(t){!0===t.isActive&&s.push(t.item.path)})),n.append("pathFrom",s)):n.append("pathFrom",t.path),n.append("pathTo",e.path),i.next=6,e.$http("".concat(e.$store.getters.domans,"/files/remove/"),{method:"POST",headers:{"is-json":!0},data:n}).then((function(t){1==t.data.res?(e.folders=t.data.folders,e.files=t.data.files,e.path=t.data.path,e.$message({message:t.data.message,type:"success"})):0==t.data.res&&e.$message.error(t.data.message)})).catch((function(t){e.$message.error(t)}));case 6:e.$store.dispatch("onLoadClose");case 7:case"end":return i.stop()}}),i)})))()},copy:function(t){var e=this.addPaste(t);this.$store.dispatch("setClipboard",{items:e,type:"copy"})},cut:function(t){var e=this.addPaste(t);this.$store.dispatch("setClipboard",{items:e,type:"cut"})},addPaste:function(t){var e=[];return t.isActive?(this.$refs.folders&&this.$refs.folders.forEach((function(t){!0===t.isActive&&e.push(t.item.path)})),this.$refs.files&&this.$refs.files.forEach((function(t){!0===t.isActive&&e.push(t.item.path)}))):e.push(t.path),e},paste:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.getters.clipboard.type){e.next=8;break}return i=t.$store.getters.clipboard.type,n=new FormData,n.append("pathFrom",t.$store.getters.clipboard.items),n.append("pathTo",t.path),n.append("type",i),e.next=8,t.$http("".concat(t.$store.getters.domans,"/files/paste/"),{method:"POST",headers:{"is-json":!0},data:n}).then((function(e){console.log(e.data),!0===e.data.res?(t.folders=e.data.folders,t.files=e.data.files,t.path=e.data.path,t.$store.dispatch("setClipboard",{}),t.$message({message:e.data.message,type:"success"})):!1===e.data.res&&t.$message.error(e.data.message)})).catch((function(e){t.$message.error(e)}));case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))()},onUpload:function(){this.$modal.show("uploadFiles")},reLoad:function(t){this.folders=t.folders,this.files=t.files,this.path=t.path},onActiveFolders:function(t){if(t.isActive){var e,i=Object(x["a"])(this.activeFolders);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n===t.path)return}}catch(s){i.e(s)}finally{i.f()}this.activeFolders.push(t.path)}else this.activeFolders=this.activeFolders.filter((function(e){return e!==t.path}))},onActiveFiles:function(t){if(t.isActive){var e,i=Object(x["a"])(this.activeFiles);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n===t.path)return}}catch(s){i.e(s)}finally{i.f()}this.activeFiles.push(t.path)}else this.activeFiles=this.activeFiles.filter((function(e){return e!==t.path}))},onContextMenu:function(t){this.isMenu?this.closeContextMenu():(this.closeContextMenu(),this.isMenu=!0,this.coords={x:t.clientX,y:t.clientY})},onCloseContextMenu:function(){this.closeContextMenu()},closeContextMenu:function(){this.isMenu=!1,this.$refs.folders&&this.$refs.folders.forEach((function(t){return t.isMenu=!1})),this.$refs.files&&this.$refs.files.forEach((function(t){return t.isMenu=!1}))},loadContextMenu:function(){this.contextmenu=[{id:1,name:"Вставить",type:"paste",isActive:!!this.$store.getters.clipboard.type},{id:2,name:"Создать папку",type:"create",isActive:!0},{id:3,name:"Загрузить файл",type:"upload",isActive:!0}]}},created:function(){this.onLoad(),this.loadContextMenu()},mounted:function(){var t=this,e=document.querySelector(".modal-content main .content");this.heigth=parseInt(e.dataset.heigth);var i=e.querySelector(".list-content");i.addEventListener("click",(function(e){e.preventDefault(),t.closeContextMenu()})),i.addEventListener("contextmenu",(function(e){e.preventDefault();var i=e.target.closest(".list-content");e.target.contains(i)&&t.onContextMenu(e)}))},watch:{isPaste:function(t){this.contextmenu.forEach((function(e){"paste"===e.type&&(e.isActive=t)}))}}},mt=ht,ft=(i("ffa7"),Object(p["a"])(mt,$,b,!1,null,"2f6c5b6d",null)),vt=ft.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"other"},[t._v(" Ещё один модуль ")])},yt=[],Ct=(i("ab6d"),{}),wt=Object(p["a"])(Ct,gt,yt,!1,null,"43436fec",null),$t=wt.exports,bt={props:{data:{type:Object,require:!0},path:{type:String,require:!0}},data:function(){return{activeWindow:!1,heightModal:300,isZoomModal:!1,isShow:!1,show:!1,hideTimeOut:null}},components:{files:vt,other:$t},methods:{zoomIn:function(t){var e=t.target.closest('.window-desktop-content[data-apps-type="'.concat(this.data.type,'"]')),i=e.querySelector(".vm--modal");e.classList.add("animated"),this.isZoomModal?(e.classList.add("animate__zoomOut"),setTimeout((function(){e.classList.add("animate__zoomIn"),e.classList.remove("animate__zoomOut"),e.classList.remove("animate__fadeIn"),setTimeout((function(){return e.classList.remove("animate__zoomIn")}),1e3)}),200),this.isZoomModal=!1,i.classList.remove("window-size-max")):(this.isZoomModal=!0,e.classList.add("animate__zoomIn"),setTimeout((function(){return e.classList.remove("animate__zoomIn")}),1e3),i.classList.add("window-size-max"));var n=parseInt(i.clientHeight),s=parseInt(i.clientWidth);this.heightModal=n-100,this.$refs.component.heigth=this.heightModal-50;var a=Math.floor((16-s/150)/2);this.$refs.component.col=a<1?1:a>6?6:a},minimize:function(){},close:function(){this.isShow=!1,this.$emit("closeApp",this.data.type)},isActiveModal:function(){this.$parent.$emit("activeModal",this.data.type)},resize:function(t){var e=parseInt(t.ref.clientHeight),i=parseInt(t.ref.clientWidth);this.heightModal=e-100,this.$refs.component.heigth=this.heightModal-50;var n=Math.floor((16-i/150)/2);this.$refs.component.col=n<1?1:n>6?6:n}},watch:{isShow:function(t){var e=this;clearTimeout(this.hideTimeOut),!0===t?setTimeout((function(){return e.$modal.show(e.data.type)}),10):this.hideTimeOut=setTimeout((function(){return e.$modal.hide(e.data.type)}),1e3)}}},xt=bt,_t=(i("afb1"),Object(p["a"])(xt,C,w,!1,null,"85eaea86",null)),At=_t.exports,Mt={data:function(){return{isLoad:!1,background:"/templates/images/background/1.jpg",apps:[{id:1,type:"files",name:"Файловый менеджер",path:"Main",isActive:!1},{id:2,type:"other",name:"Ещё какой-то модуль",path:"Main",isActive:!1}],activeApps:[]}},components:{mainLayout:y,modalContent:At},methods:{activeModal:function(t){var e=this;this.$refs.modals.forEach((function(e){e.data.type===t?e.activeWindow=!0:e.activeWindow=!1})),this.activeApps.forEach((function(i,n){i.type===t?e.activeApps[n].isActive=!0:e.activeApps[n].isActive=!1}))},closeApp:function(t){this.activeApps=this.activeApps.filter((function(e){return e.type!==t}))},openApp:function(t){var e=this;this.apps.forEach((function(i){if(i.type!==t);else{if(e.activeApps.length)for(var n=0;n<e.activeApps.length;n++)if(e.activeApps[n].type===t)return;e.activeApps.push(i)}})),this.$refs.modals.forEach((function(e){e.data.type===t&&(e.isShow=!0)}))}},mounted:function(){this.$on("windowClick",this.activeModal),this.$on("activeModal",this.activeModal),this.$on("openApp",this.openApp)}},kt=Mt,Lt=(i("034f"),Object(p["a"])(kt,s,a,!1,null,null,null)),Ot=Lt.exports,Ft=i("8c4f");n["default"].use(Ft["a"]);var St=[],jt=new Ft["a"]({routes:St}),Et=jt,qt=i("2f62"),zt={state:{isLoad:!1},mutations:{isLoad:function(t,e){t.isLoad=e}},actions:{onLoad:function(t){var e=t.commit;e("isLoad",!0)},onLoadClose:function(t){var e=t.commit;e("isLoad",!1)}},modules:{},getters:{isLoad:function(t){return t.isLoad}}},Nt={state:{message:"",isSuccess:!1,isErrors:!1},mutations:{sendSuccess:function(t,e){t.message=e,t.isSuccess=!0},sendErrors:function(t,e){t.message=e,t.isErrors=!0},closeSuccess:function(t){t.message="",t.isSuccess=!1},closeClose:function(t){t.message="",t.isErrors=!1}},actions:{sendSuccess:function(t,e){var i=t.commit;i("sendSuccess",e)},sendErrors:function(t,e){var i=t.commit;i("sendErrors",e)},closeSuccess:function(t){var e=t.commit;e("closeSuccess")},closeErrors:function(t){var e=t.commit;e("closeErrors")}},modules:{},getters:{isLoad:function(t){return t.isLoad}}},It={state:{clipboard:[]},mutations:{setClipboard:function(t,e){t.clipboard=e}},actions:{setClipboard:function(t,e){var i=t.commit;i("setClipboard",e)},removeClipboard:function(t){var e=t.commit;e("setClipboard",[])}},getters:{clipboard:function(t){return t.clipboard}}};n["default"].use(qt["a"]);var Tt=new qt["a"].Store({state:{domains:"https://files.neworia.ru"},mutations:{},actions:{},getters:{domans:function(t){return t.domains}},modules:{loading:zt,message:Nt,files:It}}),Pt=i("bc3a"),Ht=i.n(Pt),Rt=i("5c96"),Wt=i.n(Rt),Dt=i("1881"),Bt=i.n(Dt);i("0fae"),i("7ddb");n["default"].use(Wt.a),n["default"].use(Bt.a),n["default"].prototype.$http=Ht.a,n["default"].config.productionTip=!1,new n["default"]({router:Et,store:Tt,render:function(t){return t(Ot)}}).$mount("#app")},6890:function(t,e,i){},"71b6":function(t,e,i){},7542:function(t,e,i){"use strict";i("85e2")},"76a1":function(t,e,i){},"85e2":function(t,e,i){},"85ec":function(t,e,i){},"92f0a":function(t,e,i){},a052:function(t,e,i){"use strict";i("92f0a")},ab6d:function(t,e,i){"use strict";i("f534")},afb1:function(t,e,i){"use strict";i("6890")},e8c0:function(t,e,i){"use strict";i("2501")},f534:function(t,e,i){},ffa7:function(t,e,i){"use strict";i("76a1")},fff1:function(t,e,i){"use strict";i("5187")}});